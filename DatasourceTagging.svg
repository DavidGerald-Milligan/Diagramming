<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="2001.25px" preserveAspectRatio="none" style="width:2878px;height:2001px;" version="1.1" viewBox="0 0 2878 2001" width="2878.75px" zoomAndPan="magnify"><defs><filter height="300%" id="f1ujf2q2dz1ffd" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.5"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="5.0" dy="5.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1ujf2q2dz1ffd)" height="1834.3359" style="stroke: #A80036; stroke-width: 1.25;" width="12.5" x="741.25" y="85.7617"/><rect fill="#FFFFFF" filter="url(#f1ujf2q2dz1ffd)" height="37.9395" style="stroke: #A80036; stroke-width: 1.25;" width="12.5" x="747.5" y="484.7168"/><rect fill="#FFFFFF" filter="url(#f1ujf2q2dz1ffd)" height="37.9395" style="stroke: #A80036; stroke-width: 1.25;" width="12.5" x="747.5" y="1450.2637"/><rect fill="#FFFFFF" filter="url(#f1ujf2q2dz1ffd)" height="1434.1309" style="stroke: #A80036; stroke-width: 1.25;" width="12.5" x="1196.875" y="234.5801"/><rect fill="#FFFFFF" filter="url(#f1ujf2q2dz1ffd)" height="138.8184" style="stroke: #A80036; stroke-width: 1.25;" width="12.5" x="1446.875" y="560.5957"/><rect fill="#FFFFFF" filter="url(#f1ujf2q2dz1ffd)" height="88.3789" style="stroke: #A80036; stroke-width: 1.25;" width="12.5" x="1566.875" y="737.3535"/><rect fill="#FFFFFF" filter="url(#f1ujf2q2dz1ffd)" height="164.2578" style="stroke: #A80036; stroke-width: 1.25;" width="12.5" x="2468.75" y="1706.6504"/><rect fill="#FFFFFF" filter="url(#f1ujf2q2dz1ffd)" height="101.3184" style="stroke: #000000; stroke-width: 2.5;" width="480" x="821.25" y="253.3301"/><rect fill="#FFFFFF" filter="url(#f1ujf2q2dz1ffd)" height="60.8789" style="stroke: #000000; stroke-width: 2.5;" width="455" x="833.75" y="285.0195"/><line style="stroke: #A80036; stroke-width: 1.25; stroke-dasharray: 5.0,5.0;" x1="40" x2="40" y1="65.7617" y2="1931.3477"/><line style="stroke: #A80036; stroke-width: 1.25; stroke-dasharray: 5.0,5.0;" x1="151.25" x2="151.25" y1="65.7617" y2="1931.3477"/><line style="stroke: #A80036; stroke-width: 1.25; stroke-dasharray: 5.0,5.0;" x1="302.5" x2="302.5" y1="65.7617" y2="1931.3477"/><line style="stroke: #A80036; stroke-width: 1.25; stroke-dasharray: 5.0,5.0;" x1="516.25" x2="516.25" y1="65.7617" y2="1931.3477"/><line style="stroke: #A80036; stroke-width: 1.25; stroke-dasharray: 5.0,5.0;" x1="747.5" x2="747.5" y1="65.7617" y2="1931.3477"/><line style="stroke: #A80036; stroke-width: 1.25; stroke-dasharray: 5.0,5.0;" x1="981.25" x2="981.25" y1="65.7617" y2="1931.3477"/><line style="stroke: #A80036; stroke-width: 1.25; stroke-dasharray: 5.0,5.0;" x1="1202.5" x2="1202.5" y1="65.7617" y2="1931.3477"/><line style="stroke: #A80036; stroke-width: 1.25; stroke-dasharray: 5.0,5.0;" x1="1453.125" x2="1453.125" y1="65.7617" y2="1931.3477"/><line style="stroke: #A80036; stroke-width: 1.25; stroke-dasharray: 5.0,5.0;" x1="1573.125" x2="1573.125" y1="65.7617" y2="1931.3477"/><line style="stroke: #A80036; stroke-width: 1.25; stroke-dasharray: 5.0,5.0;" x1="1680.625" x2="1680.625" y1="65.7617" y2="1931.3477"/><line style="stroke: #A80036; stroke-width: 1.25; stroke-dasharray: 5.0,5.0;" x1="1823.75" x2="1823.75" y1="65.7617" y2="1931.3477"/><line style="stroke: #A80036; stroke-width: 1.25; stroke-dasharray: 5.0,5.0;" x1="1967.5" x2="1967.5" y1="65.7617" y2="1931.3477"/><line style="stroke: #A80036; stroke-width: 1.25; stroke-dasharray: 5.0,5.0;" x1="2115" x2="2115" y1="65.7617" y2="1931.3477"/><line style="stroke: #A80036; stroke-width: 1.25; stroke-dasharray: 5.0,5.0;" x1="2297.5" x2="2297.5" y1="65.7617" y2="1931.3477"/><line style="stroke: #A80036; stroke-width: 1.25; stroke-dasharray: 5.0,5.0;" x1="2475" x2="2475" y1="65.7617" y2="1931.3477"/><line style="stroke: #A80036; stroke-width: 1.25; stroke-dasharray: 5.0,5.0;" x1="2631.25" x2="2631.25" y1="65.7617" y2="1931.3477"/><line style="stroke: #A80036; stroke-width: 1.25; stroke-dasharray: 5.0,5.0;" x1="2801.875" x2="2801.875" y1="65.7617" y2="1931.3477"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacingAndGlyphs" textLength="35" x="19.375" y="61.9165">ECA</text><path d="M15,8.75 L15,38.75 M15,23.75 L36.25,23.75 " fill="none" filter="url(#f1ujf2q2dz1ffd)" style="stroke: #A80036; stroke-width: 2.5;"/><ellipse cx="51.25" cy="23.75" fill="#FEFECE" filter="url(#f1ujf2q2dz1ffd)" rx="15" ry="15" style="stroke: #A80036; stroke-width: 2.5;"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacingAndGlyphs" textLength="35" x="19.375" y="1948.2642">ECA</text><path d="M15,1957.1094 L15,1987.1094 M15,1972.1094 L36.25,1972.1094 " fill="none" filter="url(#f1ujf2q2dz1ffd)" style="stroke: #A80036; stroke-width: 2.5;"/><ellipse cx="51.25" cy="1972.1094" fill="#FEFECE" filter="url(#f1ujf2q2dz1ffd)" rx="15" ry="15" style="stroke: #A80036; stroke-width: 2.5;"/><rect fill="#FEFECE" filter="url(#f1ujf2q2dz1ffd)" height="39.5117" style="stroke: #A80036; stroke-width: 1.875;" width="131.25" x="83.75" y="20"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacingAndGlyphs" textLength="113.75" x="92.5" y="46.9165">DataResource</text><rect fill="#FEFECE" filter="url(#f1ujf2q2dz1ffd)" height="39.5117" style="stroke: #A80036; stroke-width: 1.875;" width="131.25" x="83.75" y="1930.0977"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacingAndGlyphs" textLength="113.75" x="92.5" y="1957.0142">DataResource</text><rect fill="#FEFECE" filter="url(#f1ujf2q2dz1ffd)" height="39.5117" style="stroke: #A80036; stroke-width: 1.875;" width="135" x="232.5" y="20"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacingAndGlyphs" textLength="117.5" x="241.25" y="46.9165">CaseResource</text><rect fill="#FEFECE" filter="url(#f1ujf2q2dz1ffd)" height="39.5117" style="stroke: #A80036; stroke-width: 1.875;" width="135" x="232.5" y="1930.0977"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacingAndGlyphs" textLength="117.5" x="241.25" y="1957.0142">CaseResource</text><rect fill="#FEFECE" filter="url(#f1ujf2q2dz1ffd)" height="39.5117" style="stroke: #A80036; stroke-width: 1.875;" width="258.75" x="385" y="20"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacingAndGlyphs" textLength="241.25" x="393.75" y="46.9165">ResearchWorkspaceResource</text><rect fill="#FEFECE" filter="url(#f1ujf2q2dz1ffd)" height="39.5117" style="stroke: #A80036; stroke-width: 1.875;" width="258.75" x="385" y="1930.0977"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacingAndGlyphs" textLength="241.25" x="393.75" y="1957.0142">ResearchWorkspaceResource</text><rect fill="#FEFECE" filter="url(#f1ujf2q2dz1ffd)" height="39.5117" style="stroke: #A80036; stroke-width: 1.875;" width="167.5" x="661.25" y="20"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacingAndGlyphs" textLength="150" x="670" y="46.9165">DatasourceService</text><rect fill="#FEFECE" filter="url(#f1ujf2q2dz1ffd)" height="39.5117" style="stroke: #A80036; stroke-width: 1.875;" width="167.5" x="661.25" y="1930.0977"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacingAndGlyphs" textLength="150" x="670" y="1957.0142">DatasourceService</text><rect fill="#FEFECE" filter="url(#f1ujf2q2dz1ffd)" height="39.5117" style="stroke: #A80036; stroke-width: 1.875;" width="266.25" x="846.25" y="20"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacingAndGlyphs" textLength="248.75" x="855" y="46.9165">ContentUpdater.TenantUpdater</text><rect fill="#FEFECE" filter="url(#f1ujf2q2dz1ffd)" height="39.5117" style="stroke: #A80036; stroke-width: 1.875;" width="266.25" x="846.25" y="1930.0977"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacingAndGlyphs" textLength="248.75" x="855" y="1957.0142">ContentUpdater.TenantUpdater</text><rect fill="#FEFECE" filter="url(#f1ujf2q2dz1ffd)" height="39.5117" style="stroke: #A80036; stroke-width: 1.875;" width="141.25" x="1130" y="20"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacingAndGlyphs" textLength="123.75" x="1138.75" y="46.9165">TaggingService</text><rect fill="#FEFECE" filter="url(#f1ujf2q2dz1ffd)" height="39.5117" style="stroke: #A80036; stroke-width: 1.875;" width="141.25" x="1130" y="1930.0977"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacingAndGlyphs" textLength="123.75" x="1138.75" y="1957.0142">TaggingService</text><rect fill="#FF0000" filter="url(#f1ujf2q2dz1ffd)" height="39.5117" style="stroke: #A80036; stroke-width: 1.875;" width="117.5" x="1391.875" y="20"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacingAndGlyphs" textLength="100" x="1400.625" y="46.9165">UtilityService</text><rect fill="#FF0000" filter="url(#f1ujf2q2dz1ffd)" height="39.5117" style="stroke: #A80036; stroke-width: 1.875;" width="117.5" x="1391.875" y="1930.0977"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacingAndGlyphs" textLength="100" x="1400.625" y="1957.0142">UtilityService</text><rect fill="#FF0000" filter="url(#f1ujf2q2dz1ffd)" height="39.5117" style="stroke: #A80036; stroke-width: 1.875;" width="87.5" x="1526.875" y="20"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacingAndGlyphs" textLength="70" x="1535.625" y="46.9165">Analytics</text><rect fill="#FF0000" filter="url(#f1ujf2q2dz1ffd)" height="39.5117" style="stroke: #A80036; stroke-width: 1.875;" width="87.5" x="1526.875" y="1930.0977"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacingAndGlyphs" textLength="70" x="1535.625" y="1957.0142">Analytics</text><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacingAndGlyphs" textLength="90" x="1631.875" y="61.9165">TagService</text><path d="M1655,8.75 L1655,38.75 M1655,23.75 L1676.25,23.75 " fill="none" filter="url(#f1ujf2q2dz1ffd)" style="stroke: #A80036; stroke-width: 2.5;"/><ellipse cx="1691.25" cy="23.75" fill="#FF0000" filter="url(#f1ujf2q2dz1ffd)" rx="15" ry="15" style="stroke: #A80036; stroke-width: 2.5;"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacingAndGlyphs" textLength="90" x="1631.875" y="1948.2642">TagService</text><path d="M1655,1957.1094 L1655,1987.1094 M1655,1972.1094 L1676.25,1972.1094 " fill="none" filter="url(#f1ujf2q2dz1ffd)" style="stroke: #A80036; stroke-width: 2.5;"/><ellipse cx="1691.25" cy="1972.1094" fill="#FF0000" filter="url(#f1ujf2q2dz1ffd)" rx="15" ry="15" style="stroke: #A80036; stroke-width: 2.5;"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacingAndGlyphs" textLength="123.75" x="1758.75" y="61.9165">TaggingService</text><path d="M1798.75,8.75 L1798.75,38.75 M1798.75,23.75 L1820,23.75 " fill="none" filter="url(#f1ujf2q2dz1ffd)" style="stroke: #A80036; stroke-width: 2.5;"/><ellipse cx="1835" cy="23.75" fill="#FF0000" filter="url(#f1ujf2q2dz1ffd)" rx="15" ry="15" style="stroke: #A80036; stroke-width: 2.5;"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacingAndGlyphs" textLength="123.75" x="1758.75" y="1948.2642">TaggingService</text><path d="M1798.75,1957.1094 L1798.75,1987.1094 M1798.75,1972.1094 L1820,1972.1094 " fill="none" filter="url(#f1ujf2q2dz1ffd)" style="stroke: #A80036; stroke-width: 2.5;"/><ellipse cx="1835" cy="1972.1094" fill="#FF0000" filter="url(#f1ujf2q2dz1ffd)" rx="15" ry="15" style="stroke: #A80036; stroke-width: 2.5;"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacingAndGlyphs" textLength="86.25" x="1921.25" y="61.9165">JobService</text><path d="M1942.5,8.75 L1942.5,38.75 M1942.5,23.75 L1963.75,23.75 " fill="none" filter="url(#f1ujf2q2dz1ffd)" style="stroke: #A80036; stroke-width: 2.5;"/><ellipse cx="1978.75" cy="23.75" fill="#FEFECE" filter="url(#f1ujf2q2dz1ffd)" rx="15" ry="15" style="stroke: #A80036; stroke-width: 2.5;"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacingAndGlyphs" textLength="86.25" x="1921.25" y="1948.2642">JobService</text><path d="M1942.5,1957.1094 L1942.5,1987.1094 M1942.5,1972.1094 L1963.75,1972.1094 " fill="none" filter="url(#f1ujf2q2dz1ffd)" style="stroke: #A80036; stroke-width: 2.5;"/><ellipse cx="1978.75" cy="1972.1094" fill="#FEFECE" filter="url(#f1ujf2q2dz1ffd)" rx="15" ry="15" style="stroke: #A80036; stroke-width: 2.5;"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacingAndGlyphs" textLength="167.5" x="2027.5" y="61.9165">TaggingBatchWorker</text><path d="M2089.375,8.75 L2089.375,38.75 M2089.375,23.75 L2110.625,23.75 " fill="none" filter="url(#f1ujf2q2dz1ffd)" style="stroke: #A80036; stroke-width: 2.5;"/><ellipse cx="2125.625" cy="23.75" fill="#FF0000" filter="url(#f1ujf2q2dz1ffd)" rx="15" ry="15" style="stroke: #A80036; stroke-width: 2.5;"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacingAndGlyphs" textLength="167.5" x="2027.5" y="1948.2642">TaggingBatchWorker</text><path d="M2089.375,1957.1094 L2089.375,1987.1094 M2089.375,1972.1094 L2110.625,1972.1094 " fill="none" filter="url(#f1ujf2q2dz1ffd)" style="stroke: #A80036; stroke-width: 2.5;"/><ellipse cx="2125.625" cy="1972.1094" fill="#FF0000" filter="url(#f1ujf2q2dz1ffd)" rx="15" ry="15" style="stroke: #A80036; stroke-width: 2.5;"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacingAndGlyphs" textLength="157.5" x="2215" y="61.9165">SearchAndAnalytics</text><path d="M2271.875,8.75 L2271.875,38.75 M2271.875,23.75 L2293.125,23.75 " fill="none" filter="url(#f1ujf2q2dz1ffd)" style="stroke: #A80036; stroke-width: 2.5;"/><ellipse cx="2308.125" cy="23.75" fill="#FF0000" filter="url(#f1ujf2q2dz1ffd)" rx="15" ry="15" style="stroke: #A80036; stroke-width: 2.5;"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacingAndGlyphs" textLength="157.5" x="2215" y="1948.2642">SearchAndAnalytics</text><path d="M2271.875,1957.1094 L2271.875,1987.1094 M2271.875,1972.1094 L2293.125,1972.1094 " fill="none" filter="url(#f1ujf2q2dz1ffd)" style="stroke: #A80036; stroke-width: 2.5;"/><ellipse cx="2308.125" cy="1972.1094" fill="#FF0000" filter="url(#f1ujf2q2dz1ffd)" rx="15" ry="15" style="stroke: #A80036; stroke-width: 2.5;"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacingAndGlyphs" textLength="157.5" x="2392.5" y="61.9165">ElasticQueryWorker</text><path d="M2449.375,8.75 L2449.375,38.75 M2449.375,23.75 L2470.625,23.75 " fill="none" filter="url(#f1ujf2q2dz1ffd)" style="stroke: #A80036; stroke-width: 2.5;"/><ellipse cx="2485.625" cy="23.75" fill="#008000" filter="url(#f1ujf2q2dz1ffd)" rx="15" ry="15" style="stroke: #A80036; stroke-width: 2.5;"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacingAndGlyphs" textLength="157.5" x="2392.5" y="1948.2642">ElasticQueryWorker</text><path d="M2449.375,1957.1094 L2449.375,1987.1094 M2449.375,1972.1094 L2470.625,1972.1094 " fill="none" filter="url(#f1ujf2q2dz1ffd)" style="stroke: #A80036; stroke-width: 2.5;"/><ellipse cx="2485.625" cy="1972.1094" fill="#008000" filter="url(#f1ujf2q2dz1ffd)" rx="15" ry="15" style="stroke: #A80036; stroke-width: 2.5;"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacingAndGlyphs" textLength="116.25" x="2570" y="61.9165">ElasticIndexing</text><path d="M2606.25,8.75 L2606.25,38.75 M2606.25,23.75 L2627.5,23.75 " fill="none" filter="url(#f1ujf2q2dz1ffd)" style="stroke: #A80036; stroke-width: 2.5;"/><ellipse cx="2642.5" cy="23.75" fill="#008000" filter="url(#f1ujf2q2dz1ffd)" rx="15" ry="15" style="stroke: #A80036; stroke-width: 2.5;"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacingAndGlyphs" textLength="116.25" x="2570" y="1948.2642">ElasticIndexing</text><path d="M2606.25,1957.1094 L2606.25,1987.1094 M2606.25,1972.1094 L2627.5,1972.1094 " fill="none" filter="url(#f1ujf2q2dz1ffd)" style="stroke: #A80036; stroke-width: 2.5;"/><ellipse cx="2642.5" cy="1972.1094" fill="#008000" filter="url(#f1ujf2q2dz1ffd)" rx="15" ry="15" style="stroke: #A80036; stroke-width: 2.5;"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacingAndGlyphs" textLength="105" x="2745.625" y="61.9165">Elasticsearch</text><path d="M2776.25,8.75 L2776.25,38.75 M2776.25,23.75 L2797.5,23.75 " fill="none" filter="url(#f1ujf2q2dz1ffd)" style="stroke: #A80036; stroke-width: 2.5;"/><ellipse cx="2812.5" cy="23.75" fill="#FEFECE" filter="url(#f1ujf2q2dz1ffd)" rx="15" ry="15" style="stroke: #A80036; stroke-width: 2.5;"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacingAndGlyphs" textLength="105" x="2745.625" y="1948.2642">Elasticsearch</text><path d="M2776.25,1957.1094 L2776.25,1987.1094 M2776.25,1972.1094 L2797.5,1972.1094 " fill="none" filter="url(#f1ujf2q2dz1ffd)" style="stroke: #A80036; stroke-width: 2.5;"/><ellipse cx="2812.5" cy="1972.1094" fill="#FEFECE" filter="url(#f1ujf2q2dz1ffd)" rx="15" ry="15" style="stroke: #A80036; stroke-width: 2.5;"/><rect fill="#FFFFFF" filter="url(#f1ujf2q2dz1ffd)" height="1834.3359" style="stroke: #A80036; stroke-width: 1.25;" width="12.5" x="741.25" y="85.7617"/><rect fill="#FFFFFF" filter="url(#f1ujf2q2dz1ffd)" height="37.9395" style="stroke: #A80036; stroke-width: 1.25;" width="12.5" x="747.5" y="484.7168"/><rect fill="#FFFFFF" filter="url(#f1ujf2q2dz1ffd)" height="37.9395" style="stroke: #A80036; stroke-width: 1.25;" width="12.5" x="747.5" y="1450.2637"/><rect fill="#FFFFFF" filter="url(#f1ujf2q2dz1ffd)" height="1434.1309" style="stroke: #A80036; stroke-width: 1.25;" width="12.5" x="1196.875" y="234.5801"/><rect fill="#FFFFFF" filter="url(#f1ujf2q2dz1ffd)" height="138.8184" style="stroke: #A80036; stroke-width: 1.25;" width="12.5" x="1446.875" y="560.5957"/><rect fill="#FFFFFF" filter="url(#f1ujf2q2dz1ffd)" height="88.3789" style="stroke: #A80036; stroke-width: 1.25;" width="12.5" x="1566.875" y="737.3535"/><rect fill="#FFFFFF" filter="url(#f1ujf2q2dz1ffd)" height="164.2578" style="stroke: #A80036; stroke-width: 1.25;" width="12.5" x="2468.75" y="1706.6504"/><polygon fill="#A80036" points="136.875,80.7617,149.375,85.7617,136.875,90.7617,141.875,85.7617" style="stroke: #A80036; stroke-width: 1.25;"/><line style="stroke: #A80036; stroke-width: 1.25; stroke-dasharray: 2.0,2.0;" x1="40.625" x2="144.375" y1="85.7617" y2="85.7617"/><polygon fill="#A80036" points="726.25,118.7012,738.75,123.7012,726.25,128.7012,731.25,123.7012" style="stroke: #A80036; stroke-width: 1.25;"/><line style="stroke: #A80036; stroke-width: 1.25; stroke-dasharray: 2.0,2.0;" x1="151.875" x2="733.75" y1="123.7012" y2="123.7012"/><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacingAndGlyphs" textLength="140" x="160.625" y="117.6306">createDataSource()</text><polygon fill="#A80036" points="501.875,136.2012,514.375,141.2012,501.875,146.2012,506.875,141.2012" style="stroke: #A80036; stroke-width: 1.25;"/><line style="stroke: #A80036; stroke-width: 1.25; stroke-dasharray: 2.0,2.0;" x1="40.625" x2="509.375" y1="141.2012" y2="141.2012"/><polygon fill="#A80036" points="726.25,174.1406,738.75,179.1406,726.25,184.1406,731.25,179.1406" style="stroke: #A80036; stroke-width: 1.25;"/><line style="stroke: #A80036; stroke-width: 1.25; stroke-dasharray: 2.0,2.0;" x1="516.875" x2="733.75" y1="179.1406" y2="179.1406"/><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacingAndGlyphs" textLength="140" x="525.625" y="173.0701">createDataSource()</text><polygon fill="#A80036" points="287.5,191.6406,300,196.6406,287.5,201.6406,292.5,196.6406" style="stroke: #A80036; stroke-width: 1.25;"/><line style="stroke: #A80036; stroke-width: 1.25; stroke-dasharray: 2.0,2.0;" x1="40.625" x2="295" y1="196.6406" y2="196.6406"/><polygon fill="#A80036" points="726.25,229.5801,738.75,234.5801,726.25,239.5801,731.25,234.5801" style="stroke: #A80036; stroke-width: 1.25;"/><line style="stroke: #A80036; stroke-width: 1.25; stroke-dasharray: 2.0,2.0;" x1="302.5" x2="733.75" y1="234.5801" y2="234.5801"/><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacingAndGlyphs" textLength="140" x="311.25" y="228.5095">createDataSource()</text><path d="M821.25,253.3301 L912.5,253.3301 L912.5,263.3301 L900,275.8301 L821.25,275.8301 L821.25,253.3301 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.25;"/><rect fill="none" height="101.3184" style="stroke: #000000; stroke-width: 2.5;" width="480" x="821.25" y="253.3301"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="35" x="840" y="271.449">loop</text><text fill="#000000" font-family="sans-serif" font-size="13.75" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="83.75" x="931.25" y="270.1038">[on tenants]</text><path d="M833.75,285.0195 L925,285.0195 L925,295.0195 L912.5,307.5195 L833.75,307.5195 L833.75,285.0195 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.25;"/><rect fill="none" height="60.8789" style="stroke: #000000; stroke-width: 2.5;" width="455" x="833.75" y="285.0195"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="35" x="852.5" y="303.1384">loop</text><text fill="#000000" font-family="sans-serif" font-size="13.75" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="117.5" x="943.75" y="301.7932">[on datasources]</text><polygon fill="#A80036" points="1181.875,330.8984,1194.375,335.8984,1181.875,340.8984,1186.875,335.8984" style="stroke: #A80036; stroke-width: 1.25;"/><line style="stroke: #A80036; stroke-width: 1.25;" x1="981.875" x2="1189.375" y1="335.8984" y2="335.8984"/><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacingAndGlyphs" textLength="83.75" x="990.625" y="329.8279">tagFamilies</text><polygon fill="#A80036" points="1181.875,386.3379,1194.375,391.3379,1181.875,396.3379,1186.875,391.3379" style="stroke: #A80036; stroke-width: 1.25;"/><line style="stroke: #A80036; stroke-width: 1.25;" x1="753.75" x2="1189.375" y1="391.3379" y2="391.3379"/><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacingAndGlyphs" textLength="93.75" x="762.5" y="385.2673">tagFamilies()</text><rect fill="#EEEEEE" filter="url(#f1ujf2q2dz1ffd)" height="3.75" style="stroke: #EEEEEE; stroke-width: 1.25;" width="2860.625" x="3.75" y="427.8076"/><line style="stroke: #000000; stroke-width: 1.25;" x1="3.75" x2="2864.375" y1="427.8076" y2="427.8076"/><line style="stroke: #000000; stroke-width: 1.25;" x1="3.75" x2="2864.375" y1="431.5576" y2="431.5576"/><rect fill="#EEEEEE" filter="url(#f1ujf2q2dz1ffd)" height="30.4395" style="stroke: #000000; stroke-width: 2.5;" width="50" x="1409.0625" y="413.8379"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="27.5" x="1416.5625" y="435.7068">Old</text><polygon fill="#A80036" points="773.75,479.7168,761.25,484.7168,773.75,489.7168,768.75,484.7168" style="stroke: #A80036; stroke-width: 1.25;"/><line style="stroke: #A80036; stroke-width: 1.25; stroke-dasharray: 2.0,2.0;" x1="766.25" x2="1195.625" y1="484.7168" y2="484.7168"/><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacingAndGlyphs" textLength="158.75" x="781.25" y="478.6462">getDatasourceQuery()</text><polygon fill="#A80036" points="1181.875,517.6563,1194.375,522.6563,1181.875,527.6563,1186.875,522.6563" style="stroke: #A80036; stroke-width: 1.25;"/><line style="stroke: #A80036; stroke-width: 1.25; stroke-dasharray: 2.0,2.0;" x1="753.75" x2="1189.375" y1="522.6563" y2="522.6563"/><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacingAndGlyphs" textLength="41.25" x="762.5" y="516.5857">qstmt</text><polygon fill="#A80036" points="1431.875,555.5957,1444.375,560.5957,1431.875,565.5957,1436.875,560.5957" style="stroke: #A80036; stroke-width: 1.25;"/><line style="stroke: #A80036; stroke-width: 1.25; stroke-dasharray: 2.0,2.0;" x1="1209.375" x2="1439.375" y1="560.5957" y2="560.5957"/><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacingAndGlyphs" textLength="213.75" x="1218.125" y="554.5251">appendDocumentDeltaClause</text><path d="M1320,576.8457 L1320,609.3457 L1581.25,609.3457 L1581.25,589.3457 L1568.75,576.8457 L1320,576.8457 " fill="#FBFB77" filter="url(#f1ujf2q2dz1ffd)" style="stroke: #A80036; stroke-width: 1.25;"/><path d="M1568.75,576.8457 L1568.75,589.3457 L1581.25,589.3457 L1568.75,576.8457 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.25;"/><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacingAndGlyphs" textLength="235" x="1327.5" y="599.9646">appends (datasource &lt;&gt; \"334\")</text><path d="M867.5,627.2852 L867.5,659.7852 L1532.5,659.7852 L1532.5,639.7852 L1520,627.2852 L867.5,627.2852 " fill="#FBFB77" filter="url(#f1ujf2q2dz1ffd)" style="stroke: #A80036; stroke-width: 1.25;"/><path d="M1520,627.2852 L1520,639.7852 L1532.5,639.7852 L1520,627.2852 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.25;"/><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacingAndGlyphs" textLength="638.75" x="875" y="650.4041">"(((datasource &lt;&gt; \"334\")) AND ((repository_id IN 264)) AND is_head_of_family == true",</text><polygon fill="#A80036" points="1223.125,694.4141,1210.625,699.4141,1223.125,704.4141,1218.125,699.4141" style="stroke: #A80036; stroke-width: 1.25;"/><line style="stroke: #A80036; stroke-width: 1.25; stroke-dasharray: 2.0,2.0;" x1="1215.625" x2="1451.875" y1="699.4141" y2="699.4141"/><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacingAndGlyphs" textLength="41.25" x="1230.625" y="693.3435">qstmt</text><polygon fill="#A80036" points="1551.875,732.3535,1564.375,737.3535,1551.875,742.3535,1556.875,737.3535" style="stroke: #A80036; stroke-width: 1.25;"/><line style="stroke: #A80036; stroke-width: 1.25; stroke-dasharray: 2.0,2.0;" x1="1209.375" x2="1559.375" y1="737.3535" y2="737.3535"/><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacingAndGlyphs" textLength="132.5" x="1218.125" y="731.283">documentSearch()</text><path d="M1122.5,753.6035 L1122.5,786.1035 L1278.75,786.1035 L1278.75,766.1035 L1266.25,753.6035 L1122.5,753.6035 " fill="#FBFB77" filter="url(#f1ujf2q2dz1ffd)" style="stroke: #A80036; stroke-width: 1.25;"/><path d="M1266.25,753.6035 L1266.25,766.1035 L1278.75,766.1035 L1266.25,753.6035 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.25;"/><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacingAndGlyphs" textLength="130" x="1130" y="776.7224">return if no results</text><polygon fill="#A80036" points="1223.125,820.7324,1210.625,825.7324,1223.125,830.7324,1218.125,825.7324" style="stroke: #A80036; stroke-width: 1.25;"/><line style="stroke: #A80036; stroke-width: 1.25; stroke-dasharray: 2.0,2.0;" x1="1215.625" x2="1571.875" y1="825.7324" y2="825.7324"/><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacingAndGlyphs" textLength="95" x="1230.625" y="819.6619">searchResult</text><polygon fill="#A80036" points="1665.625,858.6719,1678.125,863.6719,1665.625,868.6719,1670.625,863.6719" style="stroke: #A80036; stroke-width: 1.25;"/><line style="stroke: #A80036; stroke-width: 1.25; stroke-dasharray: 2.0,2.0;" x1="1209.375" x2="1673.125" y1="863.6719" y2="863.6719"/><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacingAndGlyphs" textLength="111.25" x="1218.125" y="857.6013">Tag datasource</text><polygon fill="#A80036" points="1809.375,896.6113,1821.875,901.6113,1809.375,906.6113,1814.375,901.6113" style="stroke: #A80036; stroke-width: 1.25;"/><line style="stroke: #A80036; stroke-width: 1.25; stroke-dasharray: 2.0,2.0;" x1="1680.625" x2="1816.875" y1="901.6113" y2="901.6113"/><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacingAndGlyphs" textLength="113.75" x="1689.375" y="895.5408">Tag Datasource</text><polygon fill="#A80036" points="1953.125,934.5508,1965.625,939.5508,1953.125,944.5508,1958.125,939.5508" style="stroke: #A80036; stroke-width: 1.25;"/><line style="stroke: #A80036; stroke-width: 1.25; stroke-dasharray: 2.0,2.0;" x1="1824.375" x2="1960.625" y1="939.5508" y2="939.5508"/><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacingAndGlyphs" textLength="113.75" x="1833.125" y="933.4802">Tag Datasource</text><polygon fill="#A80036" points="2100,972.4902,2112.5,977.4902,2100,982.4902,2105,977.4902" style="stroke: #A80036; stroke-width: 1.25;"/><line style="stroke: #A80036; stroke-width: 1.25; stroke-dasharray: 2.0,2.0;" x1="1968.125" x2="2107.5" y1="977.4902" y2="977.4902"/><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacingAndGlyphs" textLength="113.75" x="1976.875" y="971.4197">Tag Datasource</text><polygon fill="#A80036" points="2282.5,1010.4297,2295,1015.4297,2282.5,1020.4297,2287.5,1015.4297" style="stroke: #A80036; stroke-width: 1.25;"/><line style="stroke: #A80036; stroke-width: 1.25; stroke-dasharray: 2.0,2.0;" x1="2115" x2="2290" y1="1015.4297" y2="1015.4297"/><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacingAndGlyphs" textLength="113.75" x="2123.75" y="1009.3591">Tag Datasource</text><polygon fill="#A80036" points="2786.875,1048.3691,2799.375,1053.3691,2786.875,1058.3691,2791.875,1053.3691" style="stroke: #A80036; stroke-width: 1.25;"/><line style="stroke: #A80036; stroke-width: 1.25; stroke-dasharray: 2.0,2.0;" x1="2297.5" x2="2794.375" y1="1053.3691" y2="1053.3691"/><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacingAndGlyphs" textLength="113.75" x="2306.25" y="1047.2986">Tag Datasource</text><polygon fill="#A80036" points="767.5,1086.3086,755,1091.3086,767.5,1096.3086,762.5,1091.3086" style="stroke: #A80036; stroke-width: 1.25;"/><line style="stroke: #A80036; stroke-width: 1.25; stroke-dasharray: 2.0,2.0;" x1="760" x2="1195.625" y1="1091.3086" y2="1091.3086"/><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacingAndGlyphs" textLength="65" x="775" y="1085.238">add jobid</text><polygon fill="#A80036" points="1665.625,1124.248,1678.125,1129.248,1665.625,1134.248,1670.625,1129.248" style="stroke: #A80036; stroke-width: 1.25;"/><line style="stroke: #A80036; stroke-width: 1.25; stroke-dasharray: 2.0,2.0;" x1="1209.375" x2="1673.125" y1="1129.248" y2="1129.248"/><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacingAndGlyphs" textLength="66.25" x="1218.125" y="1123.1775">Tag case</text><polygon fill="#A80036" points="767.5,1162.1875,755,1167.1875,767.5,1172.1875,762.5,1167.1875" style="stroke: #A80036; stroke-width: 1.25;"/><line style="stroke: #A80036; stroke-width: 1.25; stroke-dasharray: 2.0,2.0;" x1="760" x2="1195.625" y1="1167.1875" y2="1167.1875"/><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacingAndGlyphs" textLength="65" x="775" y="1161.1169">add jobid</text><polygon fill="#A80036" points="1809.375,1200.127,1821.875,1205.127,1809.375,1210.127,1814.375,1205.127" style="stroke: #A80036; stroke-width: 1.25;"/><line style="stroke: #A80036; stroke-width: 1.25; stroke-dasharray: 2.0,2.0;" x1="1680.625" x2="1816.875" y1="1205.127" y2="1205.127"/><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacingAndGlyphs" textLength="66.25" x="1689.375" y="1199.0564">Tag case</text><polygon fill="#A80036" points="1953.125,1238.0664,1965.625,1243.0664,1953.125,1248.0664,1958.125,1243.0664" style="stroke: #A80036; stroke-width: 1.25;"/><line style="stroke: #A80036; stroke-width: 1.25; stroke-dasharray: 2.0,2.0;" x1="1824.375" x2="1960.625" y1="1243.0664" y2="1243.0664"/><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacingAndGlyphs" textLength="66.25" x="1833.125" y="1236.9958">Tag case</text><polygon fill="#A80036" points="2100,1276.0059,2112.5,1281.0059,2100,1286.0059,2105,1281.0059" style="stroke: #A80036; stroke-width: 1.25;"/><line style="stroke: #A80036; stroke-width: 1.25; stroke-dasharray: 2.0,2.0;" x1="1968.125" x2="2107.5" y1="1281.0059" y2="1281.0059"/><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacingAndGlyphs" textLength="66.25" x="1976.875" y="1274.9353">Tag case</text><polygon fill="#A80036" points="2282.5,1313.9453,2295,1318.9453,2282.5,1323.9453,2287.5,1318.9453" style="stroke: #A80036; stroke-width: 1.25;"/><line style="stroke: #A80036; stroke-width: 1.25; stroke-dasharray: 2.0,2.0;" x1="2115" x2="2290" y1="1318.9453" y2="1318.9453"/><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacingAndGlyphs" textLength="66.25" x="2123.75" y="1312.8748">Tag case</text><polygon fill="#A80036" points="2786.875,1351.8848,2799.375,1356.8848,2786.875,1361.8848,2791.875,1356.8848" style="stroke: #A80036; stroke-width: 1.25;"/><line style="stroke: #A80036; stroke-width: 1.25; stroke-dasharray: 2.0,2.0;" x1="2297.5" x2="2794.375" y1="1356.8848" y2="1356.8848"/><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacingAndGlyphs" textLength="66.25" x="2306.25" y="1350.8142">Tag case</text><rect fill="#EEEEEE" filter="url(#f1ujf2q2dz1ffd)" height="3.75" style="stroke: #EEEEEE; stroke-width: 1.25;" width="2860.625" x="3.75" y="1393.3545"/><line style="stroke: #000000; stroke-width: 1.25;" x1="3.75" x2="2864.375" y1="1393.3545" y2="1393.3545"/><line style="stroke: #000000; stroke-width: 1.25;" x1="3.75" x2="2864.375" y1="1397.1045" y2="1397.1045"/><rect fill="#EEEEEE" filter="url(#f1ujf2q2dz1ffd)" height="30.4395" style="stroke: #000000; stroke-width: 2.5;" width="57.5" x="1405.3125" y="1379.3848"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="35" x="1412.8125" y="1401.2537">New</text><polygon fill="#008000" points="773.75,1445.2637,761.25,1450.2637,773.75,1455.2637,768.75,1450.2637" style="stroke: #008000; stroke-width: 1.25;"/><line style="stroke: #008000; stroke-width: 1.25; stroke-dasharray: 2.0,2.0;" x1="766.25" x2="1195.625" y1="1450.2637" y2="1450.2637"/><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacingAndGlyphs" textLength="131.25" x="781.25" y="1444.1931">getRepositoryIds()</text><polygon fill="#008000" points="1181.875,1483.2031,1194.375,1488.2031,1181.875,1493.2031,1186.875,1488.2031" style="stroke: #008000; stroke-width: 1.25;"/><line style="stroke: #008000; stroke-width: 1.25; stroke-dasharray: 2.0,2.0;" x1="753.75" x2="1189.375" y1="1488.2031" y2="1488.2031"/><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacingAndGlyphs" textLength="92.5" x="762.5" y="1482.1326">repositoryIds</text><line style="stroke: #008000; stroke-width: 1.25; stroke-dasharray: 2.0,2.0;" x1="1209.375" x2="1261.875" y1="1526.1426" y2="1526.1426"/><line style="stroke: #008000; stroke-width: 1.25; stroke-dasharray: 2.0,2.0;" x1="1261.875" x2="1261.875" y1="1526.1426" y2="1542.3926"/><line style="stroke: #008000; stroke-width: 1.25; stroke-dasharray: 2.0,2.0;" x1="1210.625" x2="1261.875" y1="1542.3926" y2="1542.3926"/><polygon fill="#008000" points="1223.125,1537.3926,1210.625,1542.3926,1223.125,1547.3926,1218.125,1542.3926" style="stroke: #008000; stroke-width: 1.25;"/><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacingAndGlyphs" textLength="100" x="1218.125" y="1520.072">Build new Job</text><path d="M1000,1558.6426 L1000,1591.1426 L1401.25,1591.1426 L1401.25,1571.1426 L1388.75,1558.6426 L1000,1558.6426 " fill="#FBFB77" filter="url(#f1ujf2q2dz1ffd)" style="stroke: #A80036; stroke-width: 1.25;"/><path d="M1388.75,1558.6426 L1388.75,1571.1426 L1401.25,1571.1426 L1388.75,1558.6426 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.25;"/><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacingAndGlyphs" textLength="375" x="1007.5" y="1581.7615">Build job with datasource and repo getRepositoryIds</text><polygon fill="#008000" points="1953.125,1625.7715,1965.625,1630.7715,1953.125,1635.7715,1958.125,1630.7715" style="stroke: #008000; stroke-width: 1.25;"/><line style="stroke: #008000; stroke-width: 1.25; stroke-dasharray: 2.0,2.0;" x1="1209.375" x2="1960.625" y1="1630.7715" y2="1630.7715"/><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacingAndGlyphs" textLength="257.5" x="1218.125" y="1624.7009">Tag case and datasource in one job</text><polygon fill="#A80036" points="767.5,1663.7109,755,1668.7109,767.5,1673.7109,762.5,1668.7109" style="stroke: #A80036; stroke-width: 1.25;"/><line style="stroke: #A80036; stroke-width: 1.25; stroke-dasharray: 2.0,2.0;" x1="760" x2="1201.875" y1="1668.7109" y2="1668.7109"/><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacingAndGlyphs" textLength="65" x="775" y="1662.6404">add jobId</text><polygon fill="#A80036" points="2453.75,1701.6504,2466.25,1706.6504,2453.75,1711.6504,2458.75,1706.6504" style="stroke: #A80036; stroke-width: 1.25;"/><line style="stroke: #A80036; stroke-width: 1.25; stroke-dasharray: 2.0,2.0;" x1="1968.125" x2="2461.25" y1="1706.6504" y2="1706.6504"/><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacingAndGlyphs" textLength="72.5" x="1976.875" y="1700.5798">RabbitMQ</text><polygon fill="#A80036" points="2786.875,1739.5898,2799.375,1744.5898,2786.875,1749.5898,2791.875,1744.5898" style="stroke: #A80036; stroke-width: 1.25;"/><line style="stroke: #A80036; stroke-width: 1.25; stroke-dasharray: 2.0,2.0;" x1="2481.25" x2="2794.375" y1="1744.5898" y2="1744.5898"/><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacingAndGlyphs" textLength="80" x="2490" y="1738.5193">query docs</text><polygon fill="#A80036" points="2495,1777.5293,2482.5,1782.5293,2495,1787.5293,2490,1782.5293" style="stroke: #A80036; stroke-width: 1.25;"/><line style="stroke: #A80036; stroke-width: 1.25; stroke-dasharray: 2.0,2.0;" x1="2487.5" x2="2800.625" y1="1782.5293" y2="1782.5293"/><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacingAndGlyphs" textLength="96.25" x="2502.5" y="1776.4587">docs if exists</text><path d="M2361.25,1798.7793 L2361.25,1831.2793 L2583.75,1831.2793 L2583.75,1811.2793 L2571.25,1798.7793 L2361.25,1798.7793 " fill="#FBFB77" filter="url(#f1ujf2q2dz1ffd)" style="stroke: #A80036; stroke-width: 1.25;"/><path d="M2571.25,1798.7793 L2571.25,1811.2793 L2583.75,1811.2793 L2571.25,1798.7793 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.25;"/><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacingAndGlyphs" textLength="196.25" x="2368.75" y="1821.8982">if no results will do nothing.</text><polygon fill="#A80036" points="2616.875,1865.9082,2629.375,1870.9082,2616.875,1875.9082,2621.875,1870.9082" style="stroke: #A80036; stroke-width: 1.25;"/><line style="stroke: #A80036; stroke-width: 1.25; stroke-dasharray: 2.0,2.0;" x1="2475" x2="2624.375" y1="1870.9082" y2="1870.9082"/><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacingAndGlyphs" textLength="72.5" x="2483.75" y="1864.8376">RabbitMQ</text><polygon fill="#A80036" points="2786.875,1903.8477,2799.375,1908.8477,2786.875,1913.8477,2791.875,1908.8477" style="stroke: #A80036; stroke-width: 1.25;"/><line style="stroke: #A80036; stroke-width: 1.25; stroke-dasharray: 2.0,2.0;" x1="2631.875" x2="2794.375" y1="1908.8477" y2="1908.8477"/><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacingAndGlyphs" textLength="140" x="2640.625" y="1902.7771">update vis Painless</text><!--MD5=[cca8944b495ed2c4811f46a04eea5eb7]
@startuml

boundary ECA as ECA
participant DataResource as DR order 5
participant CaseResource as CR order 6
participant ResearchWorkspaceResource as RWR order 8
participant DatasourceService as DS order 10
participant ContentUpdater.TenantUpdater as TU order 20
participant TaggingService as TS order 30
participant UtilityService as US order 40 #Red
participant Analytics as A order 50 #Red
boundary TagService as TSS order 60 #Red
boundary TaggingService as TSSApp order 61  #Red
boundary JobService as JSS order 100
boundary TaggingBatchWorker as TBW order 101 #Red
boundary SearchAndAnalytics as SA order 102 #Red
boundary ElasticQueryWorker as EQ order 110 #Green
boundary ElasticIndexing as EI order 120 #Green
boundary Elasticsearch as ES order 130

ECA - -> DR
activate DS
DR - -> DS : createDataSource()
ECA - -> RWR
RWR - -> DS : createDataSource()
ECA - -> CR
CR - -> DS : createDataSource()
activate TS
loop on tenants
loop on datasources
TU -> TS : tagFamilies
end loop
end loop
DS -> TS : tagFamilies()

== Old ==
TS - -> DS : getDatasourceQuery()
activate DS
DS - -> TS : qstmt
deactivate DS
TS - -> US : appendDocumentDeltaClause
note over US : appends (datasource <> \\"334\\")
activate US
note over TS:     "(((datasource <> \\"334\\")) AND ((repository_id IN 264)) AND is_head_of_family == true",
US - -> TS : qstmt
deactivate US
TS - -> A : documentSearch()
activate A
note over TS: return if no results
A - -> TS : searchResult
deactivate A
TS - -> TSS : Tag datasource
TSS - -> TSSApp : Tag Datasource
TSSApp - -> JSS : Tag Datasource
JSS - -> TBW : Tag Datasource
TBW - -> SA : Tag Datasource
SA - -> ES : Tag Datasource
TS - -> DS :  add jobid
TS - -> TSS : Tag case
TS - -> DS :  add jobid
TSS - -> TSSApp : Tag case
TSSApp - -> JSS : Tag case
JSS - -> TBW : Tag case
TBW - -> SA : Tag case
SA - -> ES : Tag case

== New ==
TS -[#Green]-> DS : getRepositoryIds()
activate DS
DS -[#Green]-> TS : repositoryIds
deactivate DS
TS -[#Green]-> TS : Build new Job
note over TS
Build job with datasource and repo getRepositoryIds
end note
TS -[#Green]-> JSS : Tag case and datasource in one job
TS - -> DS : add jobId
deactivate TS
JSS - -> EQ : RabbitMQ
activate EQ
EQ - -> ES : query docs
ES - -> EQ : docs if exists
note over EQ
if no results will do nothing.
end note
EQ - -> EI : RabbitMQ
deactivate EQ
EI - -> ES : update vis Painless
@enduml

PlantUML version 1.2020.03beta6(Unknown compile time)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.4+10-b304.77
Operating System: Windows 10
Default Encoding: Cp1252
Language: en
Country: GB
--></g></svg>